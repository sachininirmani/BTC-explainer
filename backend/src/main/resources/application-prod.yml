spring:
  application:
    name: btc-explainer

  datasource:
    url: ${SPRING_DATASOURCE_URL}
    username: ${SPRING_DATASOURCE_USERNAME}
    password: ${SPRING_DATASOURCE_PASSWORD}
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        format_sql: false
        jdbc:
          time_zone: UTC

server:
  port: ${PORT:8080}

management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: never

logging:
  level:
    root: INFO
    org.hibernate.SQL: WARN
    org.springframework.web: INFO

# ===== Application-specific =====
app:
  admin:
    token: ${ADMIN_TOKEN}

  jobs:
    daily-cron: ${APP_JOBS_DAILY_CRON:0 15 2 * * *}

  rate-limit:
    rpm: ${APP_RATE_LIMIT_RPM:120}

# ===== OpenAI (optional, safe fallback) =====
openai:
  enabled: ${OPENAI_ENABLED:false}
  api-key: ${OPENAI_API_KEY:}
  model: ${OPENAI_MODEL:gpt-4o-mini}
